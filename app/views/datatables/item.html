<script>
  $(document).ready(function () {
    var table = $('#item_table').DataTable({
      "scrollX": false,
      "ordering": false,
      "scrollCollapse": true,
      "processing": true,
      "serverSide": true,
      "lengthChange": false,
      "searching": true,
	  "pageLength": 15,
      "ajax": {
        "url": "{{ @BASE.'/item/data' }}",
        "type": "POST"
      },
      "columns": [
        { data: 0 }, { data: 1 }, { data: 2 },
		{
	      "render": function (data, type, full){
		    return 'Rp <span style="float:right; margin-right:25px">' + data + '</span>';
		  }
	    },
        {
          "render": function (data, type, full) {
		    if(full[13] === null){
			  var button_image = '<a href="javascript:voice(0)" class="badge badge-success p-1" title="Lihat Produk" onclick="return alert(\'Gambar tidak ditemukan !\')"><i class="fa fa-image"></i></a>';
			} else {
			  var button_image = '<a href="../../ui/assets/img/item/' + full[13] + '" class="badge badge-success p-1" title="Lihat Produk" target="_blank"><i class="fa fa-image"></i></a>';
			}
			
            return button_image + '&nbsp;<a href="{{ @BASE."/item/update/' + full[14] + '" }}" class="badge badge-info p-1" title="Perbarui Data"><i class="fa fa-pen"></i></a>';
          }
        }
      ]
    });

    $('#item_search').on('keyup', function () {
      table.search(this.value).draw();
    });
  });
</script>